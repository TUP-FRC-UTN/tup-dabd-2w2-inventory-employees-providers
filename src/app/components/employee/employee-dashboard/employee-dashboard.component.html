<app-main-container title="Dashboard de Empleados" (infoButtonClick)="showInfo()">
  <!-- KPIs de Empleados -->
  <div class="row mb-4">
    <!-- Empleados Contratados Último Mes -->
    <div class="col-md-3 mb-3">
      <div class="card">
        <div class="card-body">
          <div class="d-flex align-items-center mb-2">
            <div class="icon-circle bg-primary text-white me-3">
              <i class="bi bi-calendar-plus"></i>
            </div>
            <h6 class="card-subtitle text-muted mb-0">Empleados Contratados Último Mes</h6>
          </div>
          <h2 class="card-title mb-0">{{ employeesHiredLastMonth }}</h2>
          <small class="text-muted">Usuarios registrados</small>
        </div>
      </div>
    </div>

    <!-- Usuarios Activos -->
    <div class="col-md-3 mb-3">
      <div class="card">
        <div class="card-body">
          <div class="d-flex align-items-center mb-2">
            <div class="icon-circle bg-warning text-white me-3">
              <i class="bi bi-check-circle"></i>
            </div>
            <h6 class="card-subtitle text-muted mb-0">Empleados Activos</h6>
          </div>
          <h2 class="card-title mb-0">{{ inServiceCount }}</h2>
          <small class="text-muted">Actualmente activos</small>
        </div>
      </div>
    </div>

    <!-- Empleados Inactivos -->
    <div class="col-md-3 mb-3">
      <div class="card">
        <div class="card-body">
          <div class="d-flex align-items-center mb-2">
            <div class="icon-circle bg-danger text-white me-3">
              <i class="bi bi-x-circle"></i>
            </div>
            <h6 class="card-subtitle text-muted mb-0">Empleados Inactivos</h6>
          </div>
          <h2 class="card-title mb-0">{{ inactiveCount }}</h2>
          <small class="text-muted">Actualmente inactivos</small>
        </div>
      </div>
    </div>
  </div>

  <!-- Gráficos de Empleados -->
  <!-- <div class="chart-section mb-4 mt-3 p-3 border rounded">
    <div class="charts d-flex justify-content-between mt-4">
      <div class="chart">
        <h6>Estado de Empleados (Activos vs. Inactivos)</h6>
        <canvas baseChart height="220px" [type]="'pie'" 
          [datasets]="pieChartEmployeeStatusDatasets"
          [labels]="pieChartEmployeeStatusLabels" 
          [options]="pieChartOptions"></canvas>
      </div>
    </div>
  </div> -->

  <div class="container mt-5">
    <h3 class="text-center text-secondary">Métricas de Empleados</h3>
    <div class="row gy-4">
  
      <!-- Gráfico de torta y métricas -->
      <div class="col-md-4">
        <div class="card border-0 shadow-lg rounded-4">
          <div class="card-body">
            <h5 class="card-title text-secondary mb-3">Estado de Empleados</h5>
            <canvas #pieChart style="height: 200px;"></canvas>
            <div class="mt-3">
              <p><strong>Total Empleados:</strong> {{ employeeList.length }}</p>
              <p><strong>Empleados Activos:</strong> {{ inServiceCount }}</p>
              <p><strong>Empleados Inactivos:</strong> {{ inactiveCount }}</p>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Gráfico de barras para Proveedores por Tipo de Servicio -->
      <div class="col-md-8">
        <div class="card border-0 shadow-lg rounded-4">
          <div class="card-body">
            <h5 class="card-title text-secondary mb-3">Empleados por Rol</h5>
            <canvas id="barChart"></canvas>
          </div>
        </div>
      </div>
      

    </div>
  </div>
</app-main-container>
